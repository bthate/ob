#!/usr/bin/env python3
# This file is placed in the Public Domain.

import os, sys
sys.path.insert(0, 'lib')

import ob
import readline
import sys

d = os.path.expanduser("~/.ob")
k = ob.run.Kernel()
k.cfg.p = "om"

class CLI(ob.hdl.Handler):

    def error(self, e):
        print(e.exc)
        raise Restart

    def raw(self, txt):
        print(txt)

def main():
    k.start(d)
    c = CLI()
    k.cmd(c, k.cfg.otxt)

ob.run.wrap(main)
